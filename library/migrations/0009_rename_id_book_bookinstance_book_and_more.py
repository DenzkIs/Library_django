# Generated by Django 4.2.1 on 2023-06-14 18:21

from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone


class Migration(migrations.Migration):

    dependencies = [
        ('library', '0008_alter_reader_passport_number'),
    ]

    operations = [
        migrations.RenameField(
            model_name='bookinstance',
            old_name='id_book',
            new_name='book',
        ),
        migrations.RemoveField(
            model_name='book',
            name='id_author',
        ),
        migrations.RemoveField(
            model_name='book',
            name='id_genre',
        ),
        migrations.RemoveField(
            model_name='book',
            name='page',
        ),
        migrations.RemoveField(
            model_name='order',
            name='id_cart',
        ),
        migrations.AddField(
            model_name='book',
            name='authors',
            field=models.ManyToManyField(to='library.author', verbose_name='Авторы'),
        ),
        migrations.AddField(
            model_name='book',
            name='genres',
            field=models.ManyToManyField(to='library.genre', verbose_name='Жанры'),
        ),
        migrations.AddField(
            model_name='book',
            name='pages',
            field=models.IntegerField(blank=True, default=0, verbose_name='Количество страниц'),
        ),
        migrations.AddField(
            model_name='bookinstance',
            name='cover_foto',
            field=models.ImageField(default='images/covers/cover_default.jpg', upload_to='images/covers', verbose_name='Фото обложки'),
        ),
        migrations.AddField(
            model_name='order',
            name='book_instance',
            field=models.ManyToManyField(to='library.bookinstance', verbose_name='Экземпляр книги'),
        ),
        migrations.AddField(
            model_name='order',
            name='damage_penalty',
            field=models.DecimalField(decimal_places=2, default=0, max_digits=6, verbose_name='Штраф за повреждения'),
        ),
        migrations.AddField(
            model_name='order',
            name='order_status',
            field=models.CharField(default='active', max_length=8, verbose_name='Статус заказа'),
        ),
        migrations.AddField(
            model_name='order',
            name='order_time',
            field=models.DateTimeField(default=django.utils.timezone.now, verbose_name='Время заказа'),
        ),
        migrations.AddField(
            model_name='order',
            name='penalty_for_delay',
            field=models.DecimalField(decimal_places=2, default=0, max_digits=6, verbose_name='Пеня за задержку'),
        ),
        migrations.AddField(
            model_name='order',
            name='reader',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='library.reader', verbose_name='Читатель'),
        ),
        migrations.AddField(
            model_name='order',
            name='return_date',
            field=models.DateTimeField(null=True, verbose_name='Дата возврата'),
        ),
        migrations.AlterField(
            model_name='author',
            name='foto',
            field=models.ImageField(default='images/authors/author_default.png', upload_to='images/authors', verbose_name='Фото автора'),
        ),
        migrations.AlterField(
            model_name='author',
            name='name',
            field=models.CharField(max_length=255, verbose_name='ФИО автора'),
        ),
        migrations.AlterField(
            model_name='book',
            name='cost',
            field=models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Стоимость книги(BYN)'),
        ),
        migrations.AlterField(
            model_name='book',
            name='date_reg',
            field=models.DateTimeField(default=django.utils.timezone.now, verbose_name='Дата регистрации'),
        ),
        migrations.AlterField(
            model_name='book',
            name='quantity',
            field=models.IntegerField(default=0, verbose_name='Количество книг'),
        ),
        migrations.AlterField(
            model_name='book',
            name='rent_day',
            field=models.DecimalField(decimal_places=2, max_digits=5, verbose_name='Стоимость аренды (BYN)'),
        ),
        migrations.AlterField(
            model_name='book',
            name='title_original',
            field=models.CharField(blank=True, max_length=255, verbose_name='Оригинальное наименование'),
        ),
        migrations.AlterField(
            model_name='book',
            name='title_rus',
            field=models.CharField(max_length=255, verbose_name='Русское наименование'),
        ),
        migrations.AlterField(
            model_name='book',
            name='year',
            field=models.IntegerField(blank=True, default=0, verbose_name='Год издания'),
        ),
        migrations.AlterField(
            model_name='bookinstance',
            name='status',
            field=models.CharField(choices=[('f', 'Свободная'), ('r', 'В аренде'), ('m', 'На обслуживании')], default='f', max_length=1),
        ),
        migrations.AlterField(
            model_name='genre',
            name='name',
            field=models.CharField(max_length=100, verbose_name='Жанр'),
        ),
        migrations.DeleteModel(
            name='Cart',
        ),
    ]
